Порядок работы:

1) сервер стартует логику, connections pool и гейты (надо бы сделать сначала инициализацию гейтов, а уже потом их автоматический старт)
2) гейты принимают соединение и создают инстанс соответствующего Connection (TcpConnection/WebsocketConnection)
3) принятое соединение отправляется в пул.
4) пул получает соединение и стартует чтение из соединения, подсовывая ему канал для сообщений
5) вычитанные соединением сообщения отправляются в канал для сообщений
6) логика принимает сообщение и пишет его в лог

Для тестирования есть тулза: https://unity2go.googlecode.com/svn/trunk/library/NetTest

TcpGate
	* в данный момент tcp gate умеет вычитывать из соединения буфер по 1024 байта и отдаёт его как DataMessage. BaseMessage в данный момент инициализируется пустыми значениями.
	* нужно сделать, чтобы сначала вычитывалась длина сообщения
	* далее вычитывается массив байт равный вычитанной длине
	* и вот уже вычитанный масси должен класться в сообщение (потом это будет protobuf строка)
	* также непонятно, почему go говорит, что прочитал 22 байта на слово "привет" - по идее там только 12 байт. надо бы в тулзе для тестирования писать сколько байт занимает отправляемое сообщение.

WebSocketGate
	* вычитывает обёртку из вебсокета
	* парсит обёртку
	* в зависимости от типа у обёртки парсит сообщение
	* отдаёт сообщение в канал входящих сообщений
	* логика обрабатывает сообщения
	* логика посылает ответ в канал исходящих сообщений НАПРЯМУЮ (пишет в канал без вызова соответствующих методов), БЕЗ указания адресатов, ОБЫЧНОЕ текстовое сообщение (без обёртки ServerMessage)
	* пул подключений получает исходящее сообщение от логики и рассылает через ВСЕ подключения

Клиент
	* подключается к серверу
	* отправляет AuthMessage
	* умеет отправлять текстовые сообщения
	
Не работает
	* Почему не получается использовать *Connection - ведь у нас это объекты и, по идее, нужно хранить ссылки на них
	* Не происходит окончания попытки записи в канал - канал сообщений, вроде бы, всё ещё существует. При попытке закрыть канал - вываливается ошибка, что мы закрываем уже закрытый канал

	
Убраны все проверки с авторизацией. На данный момент клиент на старте присылает AuthMessage. Эта информация никуда не сохраняется, а просто выводится в лог.